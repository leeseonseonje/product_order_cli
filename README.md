
## 구현 방향
주문(order)외에 다른 명령어가 도입될수도 있다는 가정을 염두에 두고 확장성에 많이 신경을 썻다.
  
Handler, Reader, Formatter, Service, Repository 등의 계층으로 나누어 각각의 계층마다 관심사를 분리하여 응집도를 높여 변경에 있어 좀 더 자유로워 질 수 있게 설계를 하였고,
  
스프링 컨테이너와 추상화를 이용하여 결합도를 느슨하게 하여, 입력받은 명령어 마다 동적으로 다른 구현체를 주입받아 실행할 수 있게 함으로써 확장성을 높였다.
  
또한, JPA의 비관적 락(select for update)문을 사용하여 안정적인 동시성 처리를 할 수 있게 했다.
  

## 회고
지금 까지 Spring Boot를 이용한 애플리케이션을 개발한 경험중에 Controller없이 개발한 것은 처음이었다.  
  
Controller 계층이 없어 Controller의 역할을 하는 계층을 직접 요구사항에 맞춰 만들어야 하여 개발 초기 많이 당황했던것 같다.  
  
if문이나 switch문을 이용하여 각 명령마다 분기 처리를 하는 것이 마음에 들지 않아 고민 끝에 enum클래스와 applicationContext를 이용하여 
동적으로 명령을 처리하게 하면서 확장성을 높였다.
  
또, 처음에 Console화면에 출력 하는 부분이 서비스, 도메인계층에까지 걸쳐 존재했었고, 이로 인해 테스트가 어려워져 formatter라는 계층을 만들어 콘솔에 출력  
  
하는 부분을 formatter에서 책임지게 하였다. 이로 인해 테스트가 수월해 졌고 각 계층의 책임이 확실해 지고, 응집도가 높아지게 되었다.  
  
"테스트가 어려운 코드는 잘못된 설계일 확률이 높다"라는 말을 깨닫게 되었습니다.  
  
또, 동시성에 대해 많은 생각을 하게 되어 동시성을 바라보는 시야가 많이 넓어진 것 같다.  
